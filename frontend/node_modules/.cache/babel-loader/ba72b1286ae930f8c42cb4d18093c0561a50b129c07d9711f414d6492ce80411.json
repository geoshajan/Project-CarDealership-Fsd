{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{BASE_URL}from\"../utils/config\";import Card from\"../components/Card\";// import \"../pages/adminhome.css\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminHome=()=>{const[userCount,setUserCount]=useState(0);const[carCount,setCarCount]=useState(0);const[bookingCount,setBookingCount]=useState(0);useEffect(()=>{const fetchData=async()=>{try{const userResponse=await fetch(\"\".concat(BASE_URL,\"/users/\"),{method:\"GET\",credentials:\"include\"});if(userResponse.ok){const userData=await userResponse.json();console.log(userData,\"userdata\");const count=userData.count;console.log(count);setUserCount(count||0);}else{console.error(\"Error fetching user count:\",userResponse.status);}}catch(error){console.error(\"Error fetching user data:\",error);}try{const carResponse=await fetch(\"\".concat(BASE_URL,\"/cars/search/getCarCount\"),{method:\"GET\",credentials:\"include\"});if(carResponse.ok){const carCountData=await carResponse.json();const count=carCountData&&carCountData.data?carCountData.data:0;setCarCount(count);}else{console.error(\"Error fetching car count:\",carResponse.status);}}catch(error){console.error(\"Error fetching car data:\",error);}try{const userResponse=await fetch(\"\".concat(BASE_URL,\"/booking/\"),{method:\"GET\",credentials:\"include\"});if(userResponse.ok){const bookings=await userResponse.json();const count=bookings.count;console.log(count);setBookingCount(count||0);// Use count or default to 0 if undefined\n}else{console.error(\"Error fetching user count:\",userResponse.status);}}catch(error){console.error(\"Error fetching user data:\",error);}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-home\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admin-home-title\",children:\"Welcome to Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-card\",children:[/*#__PURE__*/_jsx(Card,{title:\"Users\",count:userCount}),/*#__PURE__*/_jsx(Card,{title:\"Cars\",count:carCount}),/*#__PURE__*/_jsx(Card,{title:\"Bookings\",count:bookingCount})]})]});};export default AdminHome;","map":{"version":3,"names":["React","useState","useEffect","BASE_URL","Card","AdminHome","userCount","setUserCount","carCount","setCarCount","bookingCount","setBookingCount","fetchData","userResponse","fetch","method","credentials","ok","userData","json","console","log","count","error","status","carResponse","carCountData","data","bookings"],"sources":["C:/Users/geosh/Documents/GitHub/Project-CarDealership-Fsd/frontend/src/pages/AdminHome.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BASE_URL } from \"../utils/config\";\r\nimport Card from \"../components/Card\";\r\n// import \"../pages/adminhome.css\";\r\n\r\nconst AdminHome = () => {\r\n  const [userCount, setUserCount] = useState(0); \r\n  const [carCount, setCarCount] = useState(0); \r\n  const [bookingCount, setBookingCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const userResponse = await fetch(`${BASE_URL}/users/`, {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n        });\r\n        if (userResponse.ok) {\r\n          const userData = await userResponse.json();\r\n          console.log(userData,\"userdata\");\r\n          const count = userData.count;\r\n          \r\n          console.log(count);\r\n          setUserCount(count || 0);\r\n        } else {\r\n          console.error(\"Error fetching user count:\", userResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n      try {\r\n        const carResponse = await fetch(\r\n          `${BASE_URL}/cars/search/getCarCount`,\r\n          {\r\n            method: \"GET\",\r\n            credentials: \"include\",\r\n          }\r\n        );\r\n\r\n        if (carResponse.ok) {\r\n          const carCountData = await carResponse.json();\r\n\r\n          const count =\r\n            carCountData && carCountData.data ? carCountData.data : 0;\r\n\r\n          setCarCount(count);\r\n        } else {\r\n          console.error(\"Error fetching car count:\", carResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching car data:\", error);\r\n      }\r\n      try {\r\n        const userResponse = await fetch(`${BASE_URL}/booking/`, {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n        });\r\n        if (userResponse.ok) {\r\n          const bookings = await userResponse.json();\r\n          const count = bookings.count;\r\n          console.log(count);\r\n          setBookingCount(count || 0); // Use count or default to 0 if undefined\r\n        } else {\r\n          console.error(\"Error fetching user count:\", userResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-home\">\r\n      <h1 className=\"admin-home-title\">Welcome to Admin Dashboard</h1>\r\n      <div className=\"container-card\">\r\n        <Card title=\"Users\" count={userCount} />\r\n        <Card title=\"Cars\" count={carCount} />\r\n        <Card title=\"Bookings\" count={bookingCount} />\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminHome;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}